{"code":"document.addEventListener('DOMContentLoaded', function () {\n    var email = 'p.idiare@innopolis.university';\n    var url = new URL('https://fwd.innopolis.university/api/hw2');\n    url.search = new URLSearchParams({ email: email }).toString();\n    fetch(url.toString())\n        .then(function (response) {\n        if (!response.ok) {\n            throw new Error(\"Network response was not ok: \".concat(response.statusText));\n        }\n        return response.json();\n    })\n        .then(function (data) {\n        console.log('First API response data:', data);\n        var comicId = data.comicId;\n        if (!comicId) {\n            throw new Error('Comic ID not found in the response');\n        }\n        return fetch(\"https://fwd.innopolis.university/api/comic?id=\".concat(comicId));\n    })\n        .then(function (response) {\n        if (!response.ok) {\n            throw new Error(\"Network response was not ok: \".concat(response.statusText));\n        }\n        return response.json();\n    })\n        .then(function (comicData) {\n        console.log('Comic data:', comicData); // debug statement\n        displayComic(comicData);\n    })\n        .catch(function (error) {\n        console.error('Error fetching comic:', error);\n    });\n    function displayComic(comicData) {\n        var comicContainer = document.getElementById('comic-container');\n        if (comicContainer) {\n            var img = document.createElement('img');\n            img.src = comicData.img;\n            img.alt = comicData.alt;\n            var title = document.createElement('h3');\n            title.textContent = comicData.safe_title;\n            var date = document.createElement('p');\n            var comicDate = new Date(comicData.date);\n            date.textContent = \"Published on: \".concat(comicDate.toLocaleDateString());\n            comicContainer.appendChild(title);\n            comicContainer.appendChild(img);\n            comicContainer.appendChild(date);\n        }\n    }\n});\nexport {};\n","references":["/Users/philip/IdeaProjects/My-Personal-Portfolio-Website/src/types.ts"]}
